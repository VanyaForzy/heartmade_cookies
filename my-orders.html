<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî HeartMade Cookies</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<header>
  <h1>üç™ HeartMade Cookies</h1>
  <nav>
    <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="my-orders.html" class="active">–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</a>
  </nav>
</header>

<section class="orders-section">
  <h2>üì¶ –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
  <div id="orders-container"></div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const container = document.getElementById("orders-container");
  const orders = JSON.parse(localStorage.getItem("MY_ORDERS")) || [];

  if (orders.length === 0) {
    container.innerHTML = "<p>–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –∑–∞–º–æ–≤–ª–µ–Ω—å üç™</p>";
    return;
  }

  orders.reverse().forEach((order, index) => {

    let html = `
      <div class="order-card">
        <h3>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orders.length - index}</h3>
        <p>–î–∞—Ç–∞: ${order.date}</p>
        <p>–°—É–º–∞: ${order.total} –≥—Ä–Ω</p>
        <div class="order-products">
    `;

    order.items.forEach(item => {

      if(item.name === "HeartBox" && Array.isArray(item.items)) {
        html += `
          <p><strong>HeartBox</strong></p>
          <p>–°–∫–ª–∞–¥: ${item.items.join(", ")}</p>
        `;
      } else {
        html += `<p>${item.name} √ó ${item.qty}</p>`;
      }

    });

    html += `
        </div>
      </div>
    `;

    container.innerHTML += html;
  });

});
</script>

</body>
</html>