<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî HeartMade Cookies</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<header>
  <h1>üç™ HeartMade Cookies</h1>
  <nav>
    <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="about.html">–ü—Ä–æ –Ω–∞—Å</a>
    <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    <a href="cart.html">üõí –ö–æ—à–∏–∫</a>
  </nav>
</header>

<section class="order-section">
  <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

  <div id="order-cart"></div>

  <!-- –§–û–†–ú–ê -->
  <form id="order-form" action="https://formsubmit.co/ivan.fedoryshyn09@gmail.com" method="POST">

    <input type="hidden" name="_subject" value="–ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ HeartMade Cookies!">
    <input type="hidden" name="_captcha" value="false">

    <!-- –ü–û–õ–ï –ö–£–î–ò –ó–ê–ü–ò–®–ï–ú–û –ö–û–®–ò–ö -->
    <input type="hidden" name="cart_data" id="cart-data">

    <label>–Ü–º‚Äô—è:
      <input type="text" name="name" required>
    </label>

    <label>–¢–µ–ª–µ—Ñ–æ–Ω:
      <input type="tel" name="phone" placeholder="+380" required>
    </label>

    <label>–ê–¥—Ä–µ—Å–∞ (—è–∫—â–æ —Å–∞–º–æ–≤–∏–≤—ñ–∑ ‚Äî –∑–∞–ª–∏—à—Ç–µ –ø—É—Å—Ç–∏–º):
      <input type="text" name="address">
    </label>

    <button type="submit" class="btn">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
  </form>

  <p id="order-result"></p>
</section>

<footer>
  <p>¬© 2025 HeartMade Cookies | –ó –ª—é–±–æ–≤‚Äô—é –∑—Ä–æ–±–ª–µ–Ω–æ –≤–¥–æ–º–∞ üíõ</p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const orderCart = document.getElementById("order-cart");
  const cartField = document.getElementById("cart-data");

  let total = 0;

  // –ü–æ–∫–∞–∑—É—î–º–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
  if (cart.length === 0) {
    orderCart.innerHTML = "<p>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üò¢</p>";
  } else {
    cart.forEach(item => {
      total += item.price * item.qty;

      orderCart.innerHTML += `
        <div class="cart-item">
          <h3>${item.name}</h3>
          <p>${item.price} –≥—Ä–Ω √ó ${item.qty}</p>
        </div>
      `;
    });

    orderCart.innerHTML += `<h3>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total} –≥—Ä–Ω</h3>`;
  }

  // –ü–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é —Ñ–æ—Ä–º–∏ ‚Äî –≤–ø–∏—Å—É—î–º–æ —Å–∫–ª–∞–¥
  document.getElementById("order-form").addEventListener("submit", () => {

    const formatted = cart.map(item => {
      if (item.items) {
        return `HeartBox: ${item.items.join(", ")}`;
      }
      return `${item.name} √ó ${item.qty} = ${item.qty * item.price} –≥—Ä–Ω`;
    }).join("\n");

    cartField.value = `${formatted}\n\n–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total} –≥—Ä–Ω`;

    // –æ—á–∏—â–∞—î–º–æ –∫–æ—à–∏–∫ –ø—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
    setTimeout(() => {
      localStorage.removeItem("cart");
      localStorage.removeItem("checkout_cart");
    }, 500);

  });

});
</script>

</body>
</html>



