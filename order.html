<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî HeartMade Cookies</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<header>
  <h1>üç™ HeartMade Cookies</h1>
  <nav>
    <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="about.html">–ü—Ä–æ –Ω–∞—Å</a>
    <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    <a href="cart.html">üõí –ö–æ—à–∏–∫</a>
  </nav>
</header>

<section class="order-section">
  <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

  <div id="order-cart"></div>

  <form id="order-form" action="https://formsubmit.co/ivan.fedoryshyn09@gmail.com" method="POST">

    <input type="hidden" name="_subject" value="–ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ HeartMade Cookies!">
    <input type="hidden" name="_captcha" value="false">

    <label>–Ü–º‚Äô—è:
      <input type="text" name="name" required>
    </label>

    <label>–¢–µ–ª–µ—Ñ–æ–Ω:
      <input type="tel" name="phone" placeholder="+380" required>
    </label>

    <label>–ê–¥—Ä–µ—Å–∞ (–∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è —Å–∞–º–æ–≤–∏–≤–æ–∑—É):
      <input type="text" name="address">
    </label>

    <!-- –°–Æ–î–ò –ó–ê–ü–ò–®–ï–¢–¨–°–Ø –°–ö–õ–ê–î –ó–ê–ú–û–í–õ–ï–ù–ù–Ø -->
    <input type="hidden" name="cart_data" id="cart-data">

    <button type="submit" class="btn">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
  </form>

  <p id="order-result"></p>

</section>

<footer>
  <p>¬© 2025 HeartMade Cookies | –ó –ª—é–±–æ–≤‚Äô—é –∑—Ä–æ–±–ª–µ–Ω–æ –≤–¥–æ–º–∞ üíõ</p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const orderCartContainer = document.getElementById("order-cart");
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  let total = 0;

  if (cart.length === 0) {
    orderCartContainer.innerHTML = "<p>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üò¢</p>";
  } else {
    cart.forEach(item => {
      const div = document.createElement("div");
      div.classList.add("cart-item");
      div.innerHTML = `
        <h3>${item.name}</h3>
        <p>${item.price} –≥—Ä–Ω √ó ${item.qty}</p>
      `;
      orderCartContainer.appendChild(div);
      total += item.price * item.qty;
    });

    const totalDiv = document.createElement("div");
    totalDiv.innerHTML = `<strong>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total} –≥—Ä–Ω</strong>`;
    orderCartContainer.appendChild(totalDiv);
  }

  const form = document.getElementById("order-form");
  const cartField = document.getElementById("cart-data");

  form.addEventListener("submit", () => {

    let list = cart.map(item => {
      if (item.items) {
        return `HeartBox (4 —à—Ç): ${item.items.join(", ")}`;
      }
      return `${item.name} √ó ${item.qty} = ${item.qty * item.price} –≥—Ä–Ω`;
    }).join("\n");

    cartField.value = list + `\n\n–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total} –≥—Ä–Ω`;

    // –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –æ—á–∏—â–∞—Ç–∏–º–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
    setTimeout(() => {
      localStorage.removeItem("cart");
      localStorage.removeItem("checkout_cart");
    }, 500);
  });

});
</script>
<script src="js/script.js"></script>
</body>
</html>

