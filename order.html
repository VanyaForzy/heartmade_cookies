<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî HeartMade Cookies</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <h1>üç™ HeartMade Cookies</h1>
    <nav>
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="about.html">–ü—Ä–æ –Ω–∞—Å</a>
      <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
      <a href="cart.html">üõí –ö–æ—à–∏–∫</a>
    </nav>
  </header>

  <section class="order-section">
    <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
    <div id="order-cart"></div>

    <form action="https://formsubmit.co/ivan.fedoryshyn09@gmail.com" method="POST">
      <label>–Ü–º‚Äô—è:
        <input type="text" name="name" required>
      </label>
      <label>–¢–µ–ª–µ—Ñ–æ–Ω:
        <input type="tel" name="phone" placeholder="+380">
      </label>
      <label>–ê–¥—Ä–µ—Å–∞ (—è–∫—â–æ —Å–∞–º–æ–≤–∏–≤—ñ–∑, –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º)
        <input type="text" name="address" placeholder="–¢—ñ–ª—å–∫–∏ –≤ –ù–∞–¥–≤—ñ—Ä–Ω—ñ–π">
      </label>
      <button type="submit" class="btn">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
    </form>
    <p id="order-result"></p>
  </section>

  <footer>
    <p>¬© 2025 HeartMade Cookies | –ó –ª—é–±–æ–≤‚Äô—é –∑—Ä–æ–±–ª–µ–Ω–æ –≤–¥–æ–º–∞ üíõ</p>
  </footer>

  <script src="js/script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const orderCartContainer = document.getElementById("order-cart");
      const cart = JSON.parse(localStorage.getItem("checkout_cart")) || [];
      let total = 0;

      if (cart.length === 0) {
        orderCartContainer.innerHTML = "<p>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üò¢</p>";
      } else {
        cart.forEach(item => {
          const div = document.createElement("div");
          div.classList.add("cart-item");
          div.innerHTML = `
            <h3>${item.name}</h3>
            <p>${item.price} –≥—Ä–Ω √ó ${item.qty}</p>
          `;
          orderCartContainer.appendChild(div);
          total += item.price * item.qty;
        });
        const totalDiv = document.createElement("div");
        totalDiv.innerHTML = `<strong>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total} –≥—Ä–Ω</strong>`;
        orderCartContainer.appendChild(totalDiv);
      }

      const orderForm = document.getElementById("order-form");
      if (orderForm) {
        orderForm.addEventListener("submit", e => {
          e.preventDefault();
          const data = new FormData(orderForm);
          const name = data.get("name");
          const phone = data.get("phone");
          const address = data.get("address") || "–°–∞–º–æ–≤–∏–≤—ñ–∑";

          if (cart.length === 0) {
            alert("–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!");
            return;
          }

          // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö
          document.getElementById("order-result").innerHTML = `
            <strong>–î—è–∫—É—î–º–æ, ${name}!</strong><br>
            –ú–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—É–º—É ${total} –≥—Ä–Ω.<br>
            –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}<br>
            –ê–¥—Ä–µ—Å–∞: ${address}
          `;

          // –û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫
          localStorage.removeItem("checkout_cart");
          localStorage.removeItem("cart");
          renderCart(); // —è–∫—â–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ cart.html, –∫–æ—à–∏–∫ –±—É–¥–µ –ø–æ—Ä–æ–∂–Ω—ñ–º
          orderForm.reset();
        });
      }
    });
  </script>
</body>
</html>